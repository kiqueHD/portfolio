<section class="contact-section">
    <h1 class="section-title">Contacto</h1>

    <p class="intro-text">
        Si quieres ponerte en contacto conmigo, puedes hacerlo a través de este formulario.
        Que te llevará a tu app de correo predeterminada para enviarme un email.
    </p>
    <p class="intro-text">
        También puedes darle al link de abajo.
    </p>
    <p class="intro-text">En cuanto pueda te responderé. Gracias!</p>

    <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="contact-form">
        <!-- Email Field -->
        <div class="form-group">
            <label for="email" class="label">Email*</label>
            <input id="email" type="email" formControlName="email" class="input" placeholder="Tu email"
                [class.error]="contactForm.get('email')?.invalid && contactForm.get('email')?.touched" />
            @if (contactForm.get('email')?.touched && contactForm.get('email')?.invalid) {
            <p class="error-message">{{ getFieldError('email') }}</p>
            }
        </div>

        <!-- Asunto Field -->
        <div class="form-group">
            <label for="asunto" class="label">Asunto*</label>
            <input id="asunto" type="text" formControlName="asunto" class="input" placeholder="Asunto del mensaje"
                [class.error]="contactForm.get('asunto')?.invalid && contactForm.get('asunto')?.touched" />
            @if (contactForm.get('asunto')?.touched && contactForm.get('asunto')?.invalid) {
            <p class="error-message">{{ getFieldError('asunto') }}</p>
            }
        </div>

        <!-- Mensaje Field -->
        <div class="form-group">
            <label for="mensaje" class="label">Mensaje*</label>
            <textarea id="mensaje" formControlName="mensaje" class="textarea" placeholder="Tu mensaje"
                [class.error]="contactForm.get('mensaje')?.invalid && contactForm.get('mensaje')?.touched"></textarea>
            @if (contactForm.get('mensaje')?.touched && contactForm.get('mensaje')?.invalid) {
            <p class="error-message">{{ getFieldError('mensaje') }}</p>
            }
        </div>

        <!-- Submit Messages -->
        @if (contactForm.get('email')?.touched && contactForm.valid) {
        <div class="message success-message">
            ✓ Formulario listo para enviar
        </div>
        }

        <!-- Submit Button -->
        <button type="submit" class="submit-btn" [disabled]="contactForm.invalid">
            <span>Enviar</span>
        </button>
    </form>
</section>